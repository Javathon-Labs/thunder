"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GatewayHandler = void 0;
/** @module GatewayHandler */
/* eslint-disable @typescript-eslint/no-unsafe-member-access */
const ChannelHandler_1 = require("./events/ChannelHandler");
const ForumThreadHandler_1 = require("./events/ForumThreadHandler");
const MessageHandler_1 = require("./events/MessageHandler");
const GuildHandler_1 = require("./events/GuildHandler");
const WebhookHandler_1 = require("./events/WebhookHandler");
const DocHandler_1 = require("./events/DocHandler");
const CalendarHandler_1 = require("./events/CalendarHandler");
const ListItemHandler_1 = require("./events/ListItemHandler");
const AnnouncementHandler_1 = require("./events/AnnouncementHandler");
const UserHandler_1 = require("./events/UserHandler");
/** Gateway handler filters every ws events. */
class GatewayHandler {
    constructor(client) {
        this.client = client;
        this.messageHandler = new MessageHandler_1.MessageHandler(this.client);
        this.channelHandler = new ChannelHandler_1.ChannelHandler(this.client);
        this.forumThreadHandler = new ForumThreadHandler_1.ForumThreadHandler(this.client);
        this.guildHandler = new GuildHandler_1.GuildHandler(this.client);
        this.webhookHandler = new WebhookHandler_1.WebhookHandler(this.client);
        this.docHandler = new DocHandler_1.DocHandler(this.client);
        this.calendarHandler = new CalendarHandler_1.CalendarHandler(this.client);
        this.listItemHandler = new ListItemHandler_1.ListItemHandler(this.client);
        this.announcementHandler = new AnnouncementHandler_1.AnnouncementHandler(this.client);
        this.userHandler = new UserHandler_1.UserHandler(this.client);
        this.toHandlerMap = {
            // Messages
            ChatMessageCreated: data => this.messageHandler.messageCreate(data),
            ChatMessageUpdated: data => this.messageHandler.messageUpdate(data),
            ChatMessageDeleted: data => this.messageHandler.messageDelete(data),
            ChannelMessageReactionCreated: data => this.messageHandler.messageReactionAdd(data),
            ChannelMessageReactionDeleted: data => this.messageHandler.messageReactionRemove(data),
            ChannelMessageReactionManyDeleted: data => this.messageHandler.messageReactionBulkRemove(data),
            ChannelMessagePinned: data => this.messageHandler.messagePin(data),
            ChannelMessageUnpinned: data => this.messageHandler.messageUnpin(data),
            // Channels
            ServerChannelCreated: data => this.channelHandler.channelCreate(data),
            ServerChannelUpdated: data => this.channelHandler.channelUpdate(data),
            ServerChannelDeleted: data => this.channelHandler.channelDelete(data),
            ChannelRolePermissionCreated: data => this.channelHandler.channelRolePermissionCreated(data),
            ChannelRolePermissionUpdated: data => this.channelHandler.channelRolePermissionUpdated(data),
            ChannelRolePermissionDeleted: data => this.channelHandler.channelRolePermissionDeleted(data),
            ChannelUserPermissionCreated: data => this.channelHandler.channelUserPermissionCreated(data),
            ChannelUserPermissionUpdated: data => this.channelHandler.channelUserPermissionUpdated(data),
            ChannelUserPermissionDeleted: data => this.channelHandler.channelUserPermissionDeleted(data),
            ChannelArchived: data => this.channelHandler.channelArchive(data),
            ChannelRestored: data => this.channelHandler.channelRestore(data),
            ChannelCategoryUserPermissionCreated: data => this.channelHandler.channelCategoryUserPermissionCreated(data),
            ChannelCategoryUserPermissionUpdated: data => this.channelHandler.channelCategoryUserPermissionCreated(data),
            ChannelCategoryUserPermissionDeleted: data => this.channelHandler.channelCategoryUserPermissionCreated(data),
            ChannelCategoryRolePermissionCreated: data => this.channelHandler.channelCategoryRolePermissionCreated(data),
            ChannelCategoryRolePermissionUpdated: data => this.channelHandler.channelCategoryRolePermissionUpdated(data),
            ChannelCategoryRolePermissionDeleted: data => this.channelHandler.channelCategoryRolePermissionDeleted(data),
            // Forum Topics
            ForumTopicCreated: data => this.forumThreadHandler.forumThreadCreate(data),
            ForumTopicUpdated: data => this.forumThreadHandler.forumThreadUpdate(data),
            ForumTopicDeleted: data => this.forumThreadHandler.forumThreadDelete(data),
            ForumTopicPinned: data => this.forumThreadHandler.forumThreadPin(data),
            ForumTopicUnpinned: data => this.forumThreadHandler.forumThreadUnpin(data),
            ForumTopicLocked: data => this.forumThreadHandler.forumThreadLock(data),
            ForumTopicUnlocked: data => this.forumThreadHandler.forumThreadUnlock(data),
            ForumTopicReactionCreated: data => this.forumThreadHandler.forumThreadReactionAdd(data),
            ForumTopicReactionDeleted: data => this.forumThreadHandler.forumThreadReactionRemove(data),
            ForumTopicCommentCreated: data => this.forumThreadHandler.forumThreadCommentCreate(data),
            ForumTopicCommentUpdated: data => this.forumThreadHandler.forumThreadCommentUpdate(data),
            ForumTopicCommentDeleted: data => this.forumThreadHandler.forumThreadCommentDelete(data),
            ForumTopicCommentReactionCreated: data => this.forumThreadHandler.forumThreadCommentReactionAdd(data),
            ForumTopicCommentReactionDeleted: data => this.forumThreadHandler.forumThreadCommentReactionRemove(data),
            // Guilds
            ServerMemberBanned: data => this.guildHandler.guildBanAdd(data),
            ServerMemberUnbanned: data => this.guildHandler.guildBanRemove(data),
            ServerMemberJoined: data => this.guildHandler.guildMemberAdd(data),
            ServerMemberRemoved: data => this.guildHandler.guildMemberRemove(data),
            ServerMemberUpdated: data => this.guildHandler.guildMemberUpdate(data),
            ServerRolesUpdated: data => this.guildHandler.guildMemberRoleUpdate(data),
            ServerMemberSocialLinkCreated: data => this.guildHandler.guildMemberSocialLinkCreate(data),
            ServerMemberSocialLinkUpdated: data => this.guildHandler.guildMemberSocialLinkUpdate(data),
            ServerMemberSocialLinkDeleted: data => this.guildHandler.guildMemberSocialLinkDelete(data),
            BotServerMembershipCreated: data => this.guildHandler.guildCreate(data),
            BotServerMembershipDeleted: data => this.guildHandler.guildDelete(data),
            // Guild groups
            GroupCreated: data => this.guildHandler.guildGroupCreate(data),
            GroupUpdated: data => this.guildHandler.guildGroupUpdate(data),
            GroupDeleted: data => this.guildHandler.guildGroupDelete(data),
            // Guild roles
            RoleCreated: data => this.guildHandler.guildRoleCreate(data),
            RoleUpdated: data => this.guildHandler.guildRoleUpdate(data),
            RoleDeleted: data => this.guildHandler.guildRoleDelete(data),
            // Webhooks
            ServerWebhookCreated: data => this.webhookHandler.webhooksCreate(data),
            ServerWebhookUpdated: data => this.webhookHandler.webhooksUpdate(data),
            // Docs
            DocCreated: data => this.docHandler.docCreate(data),
            DocUpdated: data => this.docHandler.docUpdate(data),
            DocDeleted: data => this.docHandler.docDelete(data),
            DocReactionCreated: data => this.docHandler.docReactionAdd(data),
            DocReactionDeleted: data => this.docHandler.docReactionRemove(data),
            DocCommentCreated: data => this.docHandler.docCommentCreate(data),
            DocCommentUpdated: data => this.docHandler.docCommentUpdate(data),
            DocCommentDeleted: data => this.docHandler.docCommentDelete(data),
            DocCommentReactionCreated: data => this.docHandler.docCommentReactionAdd(data),
            DocCommentReactionDeleted: data => this.docHandler.docCommentReactionRemove(data),
            // Calendars
            CalendarEventCreated: data => this.calendarHandler.calendarEventCreate(data),
            CalendarEventUpdated: data => this.calendarHandler.calendarEventUpdate(data),
            CalendarEventDeleted: data => this.calendarHandler.calendarEventDelete(data),
            CalendarEventReactionCreated: data => this.calendarHandler.calendarEventReactionAdd(data),
            CalendarEventReactionDeleted: data => this.calendarHandler.calendarEventReactionRemove(data),
            CalendarEventCommentCreated: data => this.calendarHandler.calendarCommentCreate(data),
            CalendarEventCommentUpdated: data => this.calendarHandler.calendarCommentUpdate(data),
            CalendarEventCommentDeleted: data => this.calendarHandler.calendarCommentDelete(data),
            CalendarEventCommentReactionCreated: data => this.calendarHandler.calendarCommentReactionAdd(data),
            CalendarEventCommentReactionDeleted: data => this.calendarHandler.calendarCommentReactionRemove(data),
            CalendarEventRsvpUpdated: data => this.calendarHandler.calendarRsvpUpdate(data),
            CalendarEventRsvpManyUpdated: () => this.calendarHandler.calendarRsvpManyUpdated(),
            CalendarEventRsvpDeleted: data => this.calendarHandler.calendarRsvpDelete(data),
            // Lists
            ListItemCreated: data => this.listItemHandler.listItemCreate(data),
            ListItemUpdated: data => this.listItemHandler.listItemUpdate(data),
            ListItemDeleted: data => this.listItemHandler.listItemDelete(data),
            ListItemCompleted: data => this.listItemHandler.listItemComplete(data),
            ListItemUncompleted: data => this.listItemHandler.listItemUncomplete(data),
            // Announcements (messages & comments)
            AnnouncementCreated: data => this.announcementHandler.announcementCreate(data),
            AnnouncementUpdated: data => this.announcementHandler.announcementUpdate(data),
            AnnouncementDeleted: data => this.announcementHandler.announcementDelete(data),
            AnnouncementCommentCreated: data => this.announcementHandler.announcementCommentCreate(data),
            AnnouncementCommentUpdated: data => this.announcementHandler.announcementCommentUpdate(data),
            AnnouncementCommentDeleted: data => this.announcementHandler.announcementCommentDelete(data),
            AnnouncementReactionCreated: data => this.announcementHandler.announcementReactionAdd(data),
            AnnouncementReactionDeleted: data => this.announcementHandler.announcementReactionRemove(data),
            AnnouncementCommentReactionCreated: data => this.announcementHandler.announcementCommentReactionAdd(data),
            AnnouncementCommentReactionDeleted: data => this.announcementHandler.announcementCommentReactionRemove(data),
            // Users
            UserStatusCreated: data => this.userHandler.userStatusCreate(data),
            UserStatusDeleted: data => this.userHandler.userStatusDelete(data),
            // Category
            CategoryCreated: data => this.guildHandler.guildCategoryCreate(data),
            CategoryUpdated: data => this.guildHandler.guildCategoryUpdate(data),
            CategoryDeleted: data => this.guildHandler.guildCategoryDelete(data)
        };
    }
    async handleMessage(eventType, eventData) {
        if (eventType) {
            const serverId = "serverId";
            if (eventData[serverId] && this.client.guilds.has(eventData[serverId]) === false) {
                // eslint-disable-next-line @typescript-eslint/no-floating-promises
                this.client.guilds.add(await this.client.rest.guilds.getGuild(eventData[serverId]));
            }
            if (eventData["message"] && eventData["message"]["type"] === "system")
                return; // system sending fake messages, haha :)
            this.toHandlerMap[eventType]?.(eventData);
        }
    }
}
exports.GatewayHandler = GatewayHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2F0ZXdheUhhbmRsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvZ2F0ZXdheS9HYXRld2F5SGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBNkI7QUFDN0IsK0RBQStEO0FBQy9ELDREQUF5RDtBQUN6RCxvRUFBaUU7QUFDakUsNERBQXlEO0FBQ3pELHdEQUFxRDtBQUNyRCw0REFBeUQ7QUFDekQsb0RBQWlEO0FBQ2pELDhEQUEyRDtBQUMzRCw4REFBMkQ7QUFDM0Qsc0VBQW1FO0FBQ25FLHNEQUFtRDtBQXFHbkQsK0NBQStDO0FBQy9DLE1BQWEsY0FBYztJQUN2QixZQUFxQixNQUFjO1FBQWQsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNuQyxtQkFBYyxHQUFHLElBQUksK0JBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakQsbUJBQWMsR0FBRyxJQUFJLCtCQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pELHVCQUFrQixHQUFHLElBQUksdUNBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pELGlCQUFZLEdBQUcsSUFBSSwyQkFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3QyxtQkFBYyxHQUFHLElBQUksK0JBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakQsZUFBVSxHQUFHLElBQUksdUJBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekMsb0JBQWUsR0FBRyxJQUFJLGlDQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25ELG9CQUFlLEdBQUcsSUFBSSxpQ0FBZSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuRCx3QkFBbUIsR0FBRyxJQUFJLHlDQUFtQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxnQkFBVyxHQUFHLElBQUkseUJBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFbEMsaUJBQVksR0FBeUQ7WUFDMUUsV0FBVztZQUNYLGtCQUFrQixFQUFvQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLElBQXVDLENBQUM7WUFDeEgsa0JBQWtCLEVBQW9CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsSUFBdUMsQ0FBQztZQUN4SCxrQkFBa0IsRUFBb0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxJQUF1QyxDQUFDO1lBQ3hILDZCQUE2QixFQUFTLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFrRCxDQUFDO1lBQ3hJLDZCQUE2QixFQUFTLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFrRCxDQUFDO1lBQzNJLGlDQUFpQyxFQUFLLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFzRCxDQUFDO1lBQ25KLG9CQUFvQixFQUFrQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLElBQXlDLENBQUM7WUFDdkgsc0JBQXNCLEVBQWdCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBMkMsQ0FBQztZQUMzSCxXQUFXO1lBQ1gsb0JBQW9CLEVBQWtCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsSUFBeUMsQ0FBQztZQUMxSCxvQkFBb0IsRUFBa0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxJQUF5QyxDQUFDO1lBQzFILG9CQUFvQixFQUFrQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsYUFBYSxDQUFDLElBQXlDLENBQUM7WUFDMUgsNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosNEJBQTRCLEVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLDRCQUE0QixDQUFDLElBQWlELENBQUM7WUFDakosZUFBZSxFQUF1QixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQW9DLENBQUM7WUFDdEgsZUFBZSxFQUF1QixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQW9DLENBQUM7WUFDdEgsb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssb0NBQW9DLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLElBQXlELENBQUM7WUFDakssZUFBZTtZQUNmLGlCQUFpQixFQUFxQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFzQyxDQUFDO1lBQy9ILGlCQUFpQixFQUFxQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFzQyxDQUFDO1lBQy9ILGlCQUFpQixFQUFxQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFzQyxDQUFDO1lBQy9ILGdCQUFnQixFQUFzQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsSUFBcUMsQ0FBQztZQUMzSCxrQkFBa0IsRUFBb0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsSUFBdUMsQ0FBQztZQUMvSCxnQkFBZ0IsRUFBc0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLElBQXFDLENBQUM7WUFDNUgsa0JBQWtCLEVBQW9CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLElBQXVDLENBQUM7WUFDaEkseUJBQXlCLEVBQWEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsc0JBQXNCLENBQUMsSUFBOEMsQ0FBQztZQUM1SSx5QkFBeUIsRUFBYSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyx5QkFBeUIsQ0FBQyxJQUE4QyxDQUFDO1lBQy9JLHdCQUF3QixFQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLHdCQUF3QixDQUFDLElBQTZDLENBQUM7WUFDN0ksd0JBQXdCLEVBQWMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsd0JBQXdCLENBQUMsSUFBNkMsQ0FBQztZQUM3SSx3QkFBd0IsRUFBYyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyx3QkFBd0IsQ0FBQyxJQUE2QyxDQUFDO1lBQzdJLGdDQUFnQyxFQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLDZCQUE2QixDQUFDLElBQXFELENBQUM7WUFDMUosZ0NBQWdDLEVBQU0sSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsZ0NBQWdDLENBQUMsSUFBcUQsQ0FBQztZQUM3SixTQUFTO1lBQ1Qsa0JBQWtCLEVBQW9CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBdUMsQ0FBQztZQUNwSCxvQkFBb0IsRUFBa0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxJQUF5QyxDQUFDO1lBQ3pILGtCQUFrQixFQUFvQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLElBQXVDLENBQUM7WUFDdkgsbUJBQW1CLEVBQW1CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQyxJQUF3QyxDQUFDO1lBQzNILG1CQUFtQixFQUFtQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsSUFBd0MsQ0FBQztZQUMzSCxrQkFBa0IsRUFBb0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLHFCQUFxQixDQUFDLElBQXVDLENBQUM7WUFDOUgsNkJBQTZCLEVBQVMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDJCQUEyQixDQUFDLElBQWtELENBQUM7WUFDL0ksNkJBQTZCLEVBQVMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDJCQUEyQixDQUFDLElBQWtELENBQUM7WUFDL0ksNkJBQTZCLEVBQVMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLDJCQUEyQixDQUFDLElBQWtELENBQUM7WUFDL0ksMEJBQTBCLEVBQVksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUErQyxDQUFDO1lBQzVILDBCQUEwQixFQUFZLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBK0MsQ0FBQztZQUM1SCxlQUFlO1lBQ2YsWUFBWSxFQUEwQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsSUFBaUMsQ0FBQztZQUNuSCxZQUFZLEVBQTBCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFpQyxDQUFDO1lBQ25ILFlBQVksRUFBMEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLElBQWlDLENBQUM7WUFDbkgsY0FBYztZQUNkLFdBQVcsRUFBMkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFnQyxDQUFDO1lBQ2pILFdBQVcsRUFBMkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFnQyxDQUFDO1lBQ2pILFdBQVcsRUFBMkIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFnQyxDQUFDO1lBQ2pILFdBQVc7WUFDWCxvQkFBb0IsRUFBa0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxJQUF5QyxDQUFDO1lBQzNILG9CQUFvQixFQUFrQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLElBQXlDLENBQUM7WUFDM0gsT0FBTztZQUNQLFVBQVUsRUFBNEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUErQixDQUFDO1lBQ3hHLFVBQVUsRUFBNEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUErQixDQUFDO1lBQ3hHLFVBQVUsRUFBNEIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUErQixDQUFDO1lBQ3hHLGtCQUFrQixFQUFvQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLElBQXVDLENBQUM7WUFDckgsa0JBQWtCLEVBQW9CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUF1QyxDQUFDO1lBQ3hILGlCQUFpQixFQUFxQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsSUFBc0MsQ0FBQztZQUN0SCxpQkFBaUIsRUFBcUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLElBQXNDLENBQUM7WUFDdEgsaUJBQWlCLEVBQXFCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFzQyxDQUFDO1lBQ3RILHlCQUF5QixFQUFhLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxJQUE4QyxDQUFDO1lBQ25JLHlCQUF5QixFQUFhLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsQ0FBQyxJQUE4QyxDQUFDO1lBQ3RJLFlBQVk7WUFDWixvQkFBb0IsRUFBa0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLG1CQUFtQixDQUFDLElBQXlDLENBQUM7WUFDakksb0JBQW9CLEVBQWtCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxtQkFBbUIsQ0FBQyxJQUF5QyxDQUFDO1lBQ2pJLG9CQUFvQixFQUFrQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CLENBQUMsSUFBeUMsQ0FBQztZQUNqSSw0QkFBNEIsRUFBVSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQUMsSUFBaUQsQ0FBQztZQUM5SSw0QkFBNEIsRUFBVSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsMkJBQTJCLENBQUMsSUFBaUQsQ0FBQztZQUNqSiwyQkFBMkIsRUFBVyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMscUJBQXFCLENBQUMsSUFBZ0QsQ0FBQztZQUMxSSwyQkFBMkIsRUFBVyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMscUJBQXFCLENBQUMsSUFBZ0QsQ0FBQztZQUMxSSwyQkFBMkIsRUFBVyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMscUJBQXFCLENBQUMsSUFBZ0QsQ0FBQztZQUMxSSxtQ0FBbUMsRUFBRyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsMEJBQTBCLENBQUMsSUFBd0QsQ0FBQztZQUN2SixtQ0FBbUMsRUFBRyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsNkJBQTZCLENBQUMsSUFBd0QsQ0FBQztZQUMxSix3QkFBd0IsRUFBYyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsa0JBQWtCLENBQUMsSUFBNkMsQ0FBQztZQUNwSSw0QkFBNEIsRUFBVSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLHVCQUF1QixFQUFFO1lBQzFGLHdCQUF3QixFQUFjLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUE2QyxDQUFDO1lBQ3BJLFFBQVE7WUFDUixlQUFlLEVBQXVCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsSUFBb0MsQ0FBQztZQUN2SCxlQUFlLEVBQXVCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsSUFBb0MsQ0FBQztZQUN2SCxlQUFlLEVBQXVCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsSUFBb0MsQ0FBQztZQUN2SCxpQkFBaUIsRUFBcUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLElBQXNDLENBQUM7WUFDM0gsbUJBQW1CLEVBQW1CLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUF3QyxDQUFDO1lBQy9ILHNDQUFzQztZQUN0QyxtQkFBbUIsRUFBbUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLENBQUMsSUFBd0MsQ0FBQztZQUNuSSxtQkFBbUIsRUFBbUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLENBQUMsSUFBd0MsQ0FBQztZQUNuSSxtQkFBbUIsRUFBbUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsa0JBQWtCLENBQUMsSUFBd0MsQ0FBQztZQUNuSSwwQkFBMEIsRUFBWSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyx5QkFBeUIsQ0FBQyxJQUErQyxDQUFDO1lBQ2pKLDBCQUEwQixFQUFZLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLHlCQUF5QixDQUFDLElBQStDLENBQUM7WUFDakosMEJBQTBCLEVBQVksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMseUJBQXlCLENBQUMsSUFBK0MsQ0FBQztZQUNqSiwyQkFBMkIsRUFBVyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFnRCxDQUFDO1lBQ2hKLDJCQUEyQixFQUFXLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLDBCQUEwQixDQUFDLElBQWdELENBQUM7WUFDbkosa0NBQWtDLEVBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsOEJBQThCLENBQUMsSUFBdUQsQ0FBQztZQUM5SixrQ0FBa0MsRUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxpQ0FBaUMsQ0FBQyxJQUF1RCxDQUFDO1lBQ2pLLFFBQVE7WUFDUixpQkFBaUIsRUFBcUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLElBQXNDLENBQUM7WUFDdkgsaUJBQWlCLEVBQXFCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFzQyxDQUFDO1lBQ3ZILFdBQVc7WUFDWCxlQUFlLEVBQXVCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFvQyxDQUFDO1lBQ3pILGVBQWUsRUFBdUIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLElBQW9DLENBQUM7WUFDekgsZUFBZSxFQUF1QixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsSUFBb0MsQ0FBQztTQUM1SCxDQUFDO0lBL0hvQyxDQUFDO0lBaUl2QyxLQUFLLENBQUMsYUFBYSxDQUFDLFNBQStCLEVBQUUsU0FBaUI7UUFDbEUsSUFBSSxTQUFpQyxFQUFDO1lBQ2xDLE1BQU0sUUFBUSxHQUFHLFVBQTBCLENBQUM7WUFDNUMsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEtBQUssRUFBRTtnQkFDOUUsbUVBQW1FO2dCQUNuRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDdkY7WUFDRCxJQUFJLFNBQVMsQ0FBQyxTQUF5QixDQUFDLElBQUksU0FBUyxDQUFDLFNBQXlCLENBQUMsQ0FBQyxNQUFzQixDQUFDLEtBQUssUUFBUTtnQkFBRSxPQUFPLENBQUMsd0NBQXdDO1lBQ3ZLLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUM3QztJQUNMLENBQUM7Q0FDSjtBQTdJRCx3Q0E2SUMifQ==