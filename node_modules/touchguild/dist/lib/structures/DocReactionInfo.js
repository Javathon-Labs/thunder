"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DocReactionInfo = void 0;
/** @module DocReactionInfo */
const ReactionInfo_1 = require("./ReactionInfo");
/** Information about a Doc's reaction. */
class DocReactionInfo extends ReactionInfo_1.ReactionInfo {
    /**
     * @param data raw data.
     * @param client client.
     */
    constructor(data, client) {
        super(data, client);
        this.docID = data.reaction.docId;
        this.type = data["docCommentId"] ? "comment" : "doc";
    }
    /** The doc where the reaction has been added.
     * If the doc is cached, it'll return a Doc component,
     * otherwise it'll return basic information about this doc.
     */
    get doc() {
        const channel = this.client.getChannel(this.raw.serverId, this.raw.reaction.channelId);
        return channel?.docs?.get(this.docID) ?? {
            id: this.docID,
            guild: this.client.guilds.get(this.raw.serverId) ?? {
                id: this.raw.serverId
            },
            channelID: this.raw.reaction.channelId
        };
    }
}
exports.DocReactionInfo = DocReactionInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jUmVhY3Rpb25JbmZvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL3N0cnVjdHVyZXMvRG9jUmVhY3Rpb25JbmZvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDhCQUE4QjtBQUM5QixpREFBOEM7QUFNOUMsMENBQTBDO0FBQzFDLE1BQWEsZUFBZ0IsU0FBUSwyQkFBWTtJQUs3Qzs7O09BR0c7SUFDSCxZQUFZLElBQXlELEVBQUUsTUFBYztRQUNqRixLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDakMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsY0FBOEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUN6RSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsSUFBSSxHQUFHO1FBQ0gsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQWEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFrQixFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdHLE9BQU8sT0FBTyxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJO1lBQ3JDLEVBQUUsRUFBSyxJQUFJLENBQUMsS0FBSztZQUNqQixLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBa0IsQ0FBQyxJQUFJO2dCQUMxRCxFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRO2FBQ3hCO1lBQ0QsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVM7U0FDekMsQ0FBQztJQUNOLENBQUM7Q0FDSjtBQTdCRCwwQ0E2QkMifQ==