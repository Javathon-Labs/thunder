"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageReactionInfo = void 0;
/** @module MessageReactionInfo */
const ReactionInfo_1 = require("./ReactionInfo");
/** Information about a Message's reaction. */
class MessageReactionInfo extends ReactionInfo_1.ReactionInfo {
    /**
     * @param data raw data.
     * @param client client.
     */
    constructor(data, client) {
        super(data, client);
        this.messageID = data.reaction.messageId;
        this.type = "message";
    }
    /** The message where the reaction has been added.
     * If the message is cached, it'll return a Message component,
     * otherwise it'll return basic information about this message.
     */
    get message() {
        const channel = this.client.getChannel(this.raw.serverId, this.raw.reaction.channelId);
        return channel?.messages?.get(this.messageID) ?? {
            id: this.messageID,
            guild: this.client.guilds.get(this.raw.serverId) ?? {
                id: this.raw.serverId
            },
            channelID: this.raw.reaction.channelId
        };
    }
}
exports.MessageReactionInfo = MessageReactionInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZVJlYWN0aW9uSW5mby5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9zdHJ1Y3R1cmVzL01lc3NhZ2VSZWFjdGlvbkluZm8udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsa0NBQWtDO0FBQ2xDLGlEQUE4QztBQU05Qyw4Q0FBOEM7QUFDOUMsTUFBYSxtQkFBb0IsU0FBUSwyQkFBWTtJQUtqRDs7O09BR0c7SUFDSCxZQUFZLElBQTZGLEVBQUUsTUFBYztRQUNySCxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUM7UUFDekMsSUFBSSxDQUFDLElBQUksR0FBRyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVEOzs7T0FHRztJQUNILElBQUksT0FBTztRQUNQLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFjLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBa0IsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5RyxPQUFPLE9BQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSTtZQUM3QyxFQUFFLEVBQUssSUFBSSxDQUFDLFNBQVM7WUFDckIsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQWtCLENBQUMsSUFBSTtnQkFDMUQsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUTthQUN4QjtZQUNELFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxTQUFTO1NBQ3pDLENBQUM7SUFDTixDQUFDO0NBQ0o7QUE3QkQsa0RBNkJDIn0=